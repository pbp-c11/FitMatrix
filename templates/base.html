<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}FitMatrix{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        --green-950:#023D27; --green-900:#036D3D; --green-700:#0B8643; --green-600:#03B863; --green-400:#7FEB45; --green-300:#9BF84E; --green-200:#B9FF58; --chartreuse:#E4FF05; --mint:#B6F7CF; --jade:#2ECF73; --emerald:#0AAE5A;
      }
      body {
        min-height: 100vh;
        background-image: linear-gradient(135deg, #036D3D 0%, #0f1f17 45%, #0b0f0d 100%);
        color: white;
      }
      .glass {backdrop-filter: blur(16px); background: rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.18); border-radius:1.25rem; box-shadow:0 10px 30px rgba(0,0,0,.35)}
      .card {padding:1.5rem;}
      @media (min-width:768px){.card{padding:2rem;}}
      .btn {border-radius:0.75rem;padding:0.5rem 1rem;font-weight:600;transition:all .2s ease;}
      .btn:disabled{opacity:.6;cursor:not-allowed;}
      .btn-primary {color:#fff;background:var(--green-600);} .btn-primary:hover{background:var(--green-900);} .btn-primary:focus{outline:none;box-shadow:0 0 0 3px rgba(127,235,69,.4);}
      .input {width:100%;border-radius:0.75rem;background-color:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);padding:0.5rem 1rem;color:#fff;}
      .input::placeholder{color:rgba(255,255,255,.6);} .input:focus{outline:none;background:rgba(255,255,255,.15);box-shadow:0 0 0 3px rgba(127,235,69,.4);}
      @keyframes fadeInUp { from {opacity:0; transform:translateY(12px)} to {opacity:1; transform:translateY(0)} }
      .animate-in { animation: fadeInUp .2s ease-out both }
      .delay-1{animation-delay:.2s}.delay-2{animation-delay:.4s}.delay-3{animation-delay:.6s}.delay-4{animation-delay:.8s}
      ::selection {background: rgba(127, 235, 69, .5); color: #000;}
    </style>
    {% block extra_head %}{% endblock %}
  </head>
  <body class="min-h-screen selection:bg-[#7FEB45]/50 selection:text-black flex flex-col">
    <header class="sticky top-0 z-40 backdrop-blur-lg bg-white/5 border-b border-white/10">
      <nav class="max-w-[1200px] mx-auto px-4 sm:px-6 h-16 flex items-center justify-between">
        <a href="{% url 'home' %}" class="text-xl font-semibold tracking-tight">FitMatrix</a>
        <button class="md:hidden btn glass px-3 py-2" aria-label="Toggle navigation" data-menu-toggle>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 6h16.5m-16.5 6h16.5" />
          </svg>
        </button>
        <div class="hidden md:flex items-center gap-6 text-sm font-medium">
          <a class="hover:text-[var(--green-200)] transition" href="{% url 'home' %}">Home</a>
          <a class="hover:text-[var(--green-200)] transition" href="{% url 'places:list' %}">Places</a>
          <a class="hover:text-[var(--green-200)] transition" href="{% url 'scheduling:sessions' %}">Trainers</a>
          <a class="hover:text-[var(--green-200)] transition" href="#">Search</a>
          <a class="hover:text-[var(--green-200)] transition" href="{% url 'accounts:wishlist' %}">Wishlist</a>
          {% if request.user.is_authenticated %}
            <a class="hover:text-[var(--green-200)] transition" href="{% url 'accounts:profile' %}">Profile</a>
          {% else %}
            <a class="hover:text-[var(--green-200)] transition" href="{% url 'accounts:login' %}">Login</a>
          {% endif %}
        </div>
      </nav>
      <div class="md:hidden hidden flex-col gap-2 px-4 pb-4 transition-all duration-200" data-mobile-menu>
        <a class="hover:text-[var(--green-200)]" href="{% url 'home' %}">Home</a>
        <a class="hover:text-[var(--green-200)]" href="{% url 'places:list' %}">Places</a>
        <a class="hover:text-[var(--green-200)]" href="{% url 'scheduling:sessions' %}">Trainers</a>
        <a class="hover:text-[var(--green-200)]" href="#">Search</a>
        <a class="hover:text-[var(--green-200)]" href="{% url 'accounts:wishlist' %}">Wishlist</a>
        {% if request.user.is_authenticated %}
          <a class="hover:text-[var(--green-200)]" href="{% url 'accounts:profile' %}">Profile</a>
        {% else %}
          <a class="hover:text-[var(--green-200)]" href="{% url 'accounts:login' %}">Login</a>
        {% endif %}
      </div>
    </header>
    <main class="flex-1 w-full">
      {% block content %}{% endblock %}
    </main>
    <footer class="mt-12 py-8 text-center text-sm text-white/70">
      Crafted for FitMatrix &copy; {% now "Y" %}
    </footer>
    <div class="fixed top-4 right-4 space-y-3 z-50" role="status" aria-live="polite">
      {% for message in messages %}
        <div class="glass px-4 py-3 flex items-start justify-between gap-4 shadow-lg {% if 'success' in message.tags %}bg-[var(--green-600)] text-black{% elif 'error' in message.tags %}bg-rose-500 text-white{% else %}bg-slate-600 text-white{% endif %}">
          <span class="font-medium">{{ message }}</span>
          <button type="button" class="text-sm" onclick="this.parentElement.remove()" aria-label="Dismiss">&times;</button>
        </div>
      {% endfor %}
    </div>
    <script>
      const toggleBtn = document.querySelector('[data-menu-toggle]');
      const mobileMenu = document.querySelector('[data-mobile-menu]');
      if (toggleBtn && mobileMenu) {
        toggleBtn.addEventListener('click', () => {
          mobileMenu.classList.toggle('hidden');
        });
      }
    </script>
    {% block extra_js %}{% endblock %}
  </body>
</html>
