{% extends "base.html" %}
{% block title %}Reviews Â· FitMatrix Admin{% endblock %}
{% block content %}
<section class="max-w-[1200px] mx-auto px-4 sm:px-6 py-12 space-y-6">
  <h1 class="text-3xl font-semibold">Reviews moderation</h1>
  <div class="glass card overflow-x-auto">
    <table class="min-w-full text-sm">
      <thead class="text-white/70">
        <tr>
          <th class="text-left py-2 pr-4">Trainer</th>
          <th class="text-left py-2 pr-4">User</th>
          <th class="text-left py-2 pr-4">Rating</th>
          <th class="text-left py-2 pr-4">Comment</th>
          <th class="text-left py-2 pr-4">Visible</th>
          <th class="text-left py-2">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-white/10">
        {% for review in reviews %}
          <tr class="hover:bg-white/5">
            <td class="py-3 pr-4">{{ review.trainer.name }}</td>
            <td class="py-3 pr-4">{{ review.user.display_name }}</td>
            <td class="py-3 pr-4">{{ review.rating }}/5</td>
            <td class="py-3 pr-4">{{ review.comment }}</td>
            <td class="py-3 pr-4">{% if review.is_visible %}Yes{% else %}No{% endif %}</td>
            <td class="py-3">
              <form method="post" action="{% url 'admin-review-toggle' review.id %}">
                {% csrf_token %}
                <button class="btn glass px-3">Toggle</button>
              </form>
            </td>
          </tr>
        {% empty %}
          <tr><td colspan="6" class="py-4 text-center text-white/60">No reviews yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endblock %}
