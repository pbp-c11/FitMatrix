{% extends "base.html" %}
{% block title %}Session Slots Â· FitMatrix Admin{% endblock %}
{% block content %}
<section class="max-w-[1200px] mx-auto px-4 sm:px-6 py-12 space-y-6">
  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
    <div>
      <h1 class="text-3xl font-semibold">Session slots</h1>
      <p class="text-white/70 text-sm">Create and manage upcoming sessions.</p>
    </div>
    <a href="{% url 'admin-slot-create' %}" class="btn-primary">New slot</a>
  </div>
  <div class="glass card overflow-x-auto">
    <table class="min-w-full text-sm">
      <thead class="text-white/70">
        <tr>
          <th class="text-left py-2 pr-4">Trainer</th>
          <th class="text-left py-2 pr-4">Place</th>
          <th class="text-left py-2 pr-4">Start</th>
          <th class="text-left py-2 pr-4">End</th>
          <th class="text-left py-2 pr-4">Capacity</th>
          <th class="text-left py-2">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-white/10">
        {% for slot in slots %}
          <tr class="hover:bg-white/5">
            <td class="py-3 pr-4">{{ slot.trainer.name }}</td>
            <td class="py-3 pr-4">{{ slot.place.name }}</td>
            <td class="py-3 pr-4">{{ slot.start|date:"M d, Y H:i" }}</td>
            <td class="py-3 pr-4">{{ slot.end|date:"M d, Y H:i" }}</td>
            <td class="py-3 pr-4">{{ slot.capacity }}</td>
            <td class="py-3 flex gap-2">
              <a href="{% url 'admin-slot-edit' slot.id %}" class="btn glass px-3">Edit</a>
              <form method="post" action="{% url 'admin-slot-toggle' slot.id %}">
                {% csrf_token %}
                <button class="btn glass px-3">{% if slot.is_active %}Disable{% else %}Enable{% endif %}</button>
              </form>
            </td>
          </tr>
        {% empty %}
          <tr><td colspan="6" class="py-4 text-center text-white/60">No slots yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endblock %}
